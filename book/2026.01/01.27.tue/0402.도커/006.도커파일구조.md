<img width="950" height="126" alt="image" src="https://github.com/user-attachments/assets/d2b9cacd-95a4-4db8-8a52-3d0c1e6245b3" />


https://drive.google.com/drive/folders/1o6K1IQ5JQ4u9BdyBfRNINgwZgjVqCJc_

개발자 영역이라 자세히는 설명 안 함 도커파일의 구조에 대해서만 알아두자

미리 빌딩(컴파일)하면 os에 종속되어버림:자기 pc에서 빌딩함:컴파일 잘 됨 = 빌더만 넣으면 다른 계열에서 알아서 빌딩 함

그럴 때 1차 2차 , 위에 빌더 넣고 나중에 서비스 할 때는 뺌 : 개발팀에서 알아서 함

도커파일의 순서 : 제일 처음 쓴 게 제일 밑에 감
<img width="1565" height="804" alt="image" src="https://github.com/user-attachments/assets/542323a6-2c3e-495f-8956-138107a39c86" />

FROM:가장 큰 몸통 : 제일 밑에
STAGE는 반대 맨 위에꺼 덜어내고 맨 밑에거 서비스 함

이미지 받아서 해도 되는 데 도커 파일로 하는 이유:IaC(+명세서 남기기)

#### Dockerfile 기본 구조 :베스트 프랙티스  
빈번히 수정되는 소스코드 복사(copy)는 가장 마지막에 배치:캐시 적층률 극대화  
(latest 태그보다는 명시적 버전 태그 사용 권장)

#### >_ 주요 명령어 및 옵션 빠른 가이드   
ENTRYPOINT : 가장 바로 실행하는 명령어, 따라서 옵션 밖에 안 받음 = '명령어는 정해졌다'는 의미   
RUN:몸통-전체:가장 중요한 것을 실행 할 때  


#### Python Flask 웹 앱 : 파이썬 뭘 실행시키는지 알아두는 정도는 알아야

도커:대문자D로 시작Dockerfile 파일 하나 touch로 만들고 vi로 파일 만들어보기
```
mkdir Dockerfile
# 파이썬을 쓰기 시작, 파이썬을 쓰겠다
 FROM python:3.12-slim AS base
 ENV PYTHONDONTWRITEBYTECODE=1 PYTHONUNBUFFERED=1

 WORKDIR /app

 RUN apt-get update && apt-get install -y --no-install-recommends build-essential && rm -rf /var/lib/apt/list

 COPY requirements.txt ./
 RUN pip install --no-cache-dir -r requirements.txt
 COPY . .

 EXPOSE 5000


 CMD["gunicorn", "app:app", "-b", "0.0.0.0:5000", "-w", "2"]
 ```

실행코드
```
#파일명 바꾸면 빌드 다음에 다시 -f 주고, 그 파일명 넣어주면 됨
$ docker -f Dockerfile -t flaskapp:v1 . #에러
#.에는 도커파일 직접 찾아서 쓰면 됨
$ docker build -t flask-app:v1 .
$ docker run -p 5000:5000 flask-app:v1 
```
